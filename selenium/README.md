# Selenium

<img src="https://github.com/Dynatrace/Dynatrace-AppMon-Test-Automation-Samples/blob/master/selenium/img/selenium.png" />

## Prerequisite

### easyTravel

* Download the demo application easyTravel: https://community.dynatrace.com/community/display/DL/Demo+Applications+-+easyTravel
* Follow the installation & configuration steps: https://community.dynatrace.com/community/display/DL/Demo+Applications+-+easyTravel#DemoApplications-easyTravel-InstallingeasyTravel
* Make sure that easyTravel portal is running on http://localhost:8079/ 

<img src="https://github.com/Dynatrace/Dynatrace-AppMon-Test-Automation-Samples/blob/master/selenium/img/easyTravelConfiguration.png" width=300" />

### Others

* Browsers: Firefox, Chrome and Internet Explorer need to be installed locally.
* Java JDK
* Ant

## Sample

The sample run two different test cases (booking a journey to Paris and booking a journey from the special offers page. Both test cases are run in Firefox, Chrome and Internet Explorer.

* [Code](./code)
* External libraries for Selenium (http://www.seleniumhq.org/download/):
  * [selenium-2.53.0](./code/lib/selenium-2.53.0) 
  * [third party web driver](./code/lib/driver)
* [Dynatrace Ant library](./code/lib/dynaTrace) - required only for option 2, see also https://community.dynatrace.com/community/display/DL/Automation+Library+%28Ant%2C+Maven%29+for+Dynatrace
 
#### Preparation

```
git clone https://github.com/Dynatrace/Dynatrace-Test-Automation-Samples
C:\YOURDIR> Set JAVA_HOME=YOUR JAVA HOME
C:\YOURDIR> Set PATH=%PATH%;ANTHOME\bin
```

#### Run

* Start easyTravel (only web required, Standard scenario, manual visits)
* Make sure the agents are connected to your Dynatrace AppMon server

*Option 1*: Execute with automatic test number (no test run registration to AppMon Server)
```
C:\YOURDIR\selenium> ant test
```

*Option 2*: Execute with Register Test Run REST CALL (to pass AppMon Server meta data such as build & version information)
```
C:\YOURDIR\selenium> ant register-test
```

#### Result

*Option 1*: Run the sample with Ant without test registration (auto-registred test run generated by Dynatrace AppMon Server)

<img src="https://github.com/Dynatrace/Dynatrace-AppMon-Test-Automation-Samples/blob/master/selenium/img/result_auto-test-run.png" />

*Option 2*: Run the sample with Ant with test registration (to pass Dynatrace AppMon Server meta data such as build & version information)

<img src="https://github.com/Dynatrace/Dynatrace-AppMon-Test-Automation-Samples/blob/master/selenium/img/result_test-run-registration.png" />
